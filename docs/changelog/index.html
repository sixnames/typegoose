<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.62">
<link rel="search" type="application/opensearchdescription+xml" title="typegoose" href="/typegoose/opensearch.xml"><title data-react-helmet="true">Changelog | typegoose</title><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Changelog | typegoose"><meta data-react-helmet="true" name="description" content="&lt;!--"><meta data-react-helmet="true" property="og:description" content="&lt;!--"><meta data-react-helmet="true" property="og:url" content="https://typegoose.github.io/typegoose/docs/changelog"><link data-react-helmet="true" rel="shortcut icon" href="/typegoose/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://typegoose.github.io/typegoose/docs/changelog"><link rel="stylesheet" href="/typegoose/styles.eeef8a8f.css">
<link rel="preload" href="/typegoose/styles.03056a96.js" as="script">
<link rel="preload" href="/typegoose/runtime~main.0e63b987.js" as="script">
<link rel="preload" href="/typegoose/main.66c92996.js" as="script">
<link rel="preload" href="/typegoose/1.488d97f0.js" as="script">
<link rel="preload" href="/typegoose/2.fbc8eeb7.js" as="script">
<link rel="preload" href="/typegoose/58.22b49cf1.js" as="script">
<link rel="preload" href="/typegoose/61.cf213224.js" as="script">
<link rel="preload" href="/typegoose/935f2afb.6c083fd5.js" as="script">
<link rel="preload" href="/typegoose/17896441.a4f32ebf.js" as="script">
<link rel="preload" href="/typegoose/c2ed7101.70da9f35.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/typegoose/"><strong class="navbar__title">typegoose</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/typegoose/docs/guides/quick-start-guide">Guides</a><a class="navbar__item navbar__link" href="/typegoose/docs/api/index-api">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/typegoose/docs/changelog">Changelog</a><a href="https://github.com/typegoose/typegoose" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/typegoose/"><strong class="navbar__title">typegoose</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/typegoose/docs/guides/quick-start-guide">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/typegoose/docs/api/index-api">API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/typegoose/docs/changelog">Changelog</a></li><li class="menu__list-item"><a href="https://github.com/typegoose/typegoose" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_1Lrw">Changelog</h1></header><div class="markdown"><p><em><code>[IC]</code> means <code>Internal Change</code></em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="734"></a>7.3.4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#734" title="Direct link to heading">#</a></h2><ul><li>Improved Client-side check</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="733"></a>7.3.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#733" title="Direct link to heading">#</a></h2><ul><li>Dont assume that the plugin function has an name [<a href="https://github.com/typegoose/typegoose/issues/353" target="_blank" rel="noopener noreferrer">typegoose#353</a>]</li><li>Only check mongoose &amp; nodejs version if <code>process</code> is defined</li><li>[IC] replace all <code>util.format</code> with template strings [<a href="https://github.com/typegoose/typegoose/issues/348" target="_blank" rel="noopener noreferrer">typegoose#348</a>]</li><li>[IC] add wrapper &amp; polyfill for <code>util.deprecate</code>[<a href="https://github.com/typegoose/typegoose/issues/344" target="_blank" rel="noopener noreferrer">typegoose#344</a>]</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="732"></a>7.3.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#732" title="Direct link to heading">#</a></h2><ul><li>Update <code>@prop</code> tsdoc to show it supports Maps and Arrays</li><li>Update dead documentation links</li><li>Update enum-error to better reflect what the error is about</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="731"></a>7.3.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#731" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>typescript</code> to 3.9.7</li></ul></li><li>Add hook-typings for <code>countDocuments</code>, <code>estimatedDocumentCount</code>, <code>deleteMany</code>, <code>findOneAndDelete</code>, <code>deleteOne</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="730"></a>7.3.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#730" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.9.22</li><li><code>lodash</code> to 4.17.19</li><li><code>@types/mongoose</code> to 5.7.30</li><li><code>@types/lodash</code> to 4.14.157</li><li><code>@types/semver</code> to 7.3.1</li><li><code>typescript</code> to 3.9.6</li></ul></li><li><code>TimeStamps</code>&#x27;s (Default Class) properties are not marked as <code>Readonly</code> anymore</li><li>All Typeguards now accept <code>undefined</code> as the first parameter too (if an type was OR with <code>undefined</code>, the function would give an type-error)</li><li>Add option <code>discriminators</code> for embedded Discriminators [<a href="https://github.com/typegoose/typegoose/issues/248" target="_blank" rel="noopener noreferrer">typegoose#248</a>]</li><li>Set correct Decorator Return type (<code>ClassDecorator</code> &amp; <code>PropertyDecorator</code>)</li><li>Change warning message for <code>warnMixed</code></li><li>If an SchemaType dosnt extend <code>SchemaTypeOptions</code>, the options are now defaulted to the outer-layer</li><li><code>innerOptions</code> and <code>outerOptions</code> can now be used for Maps too</li><li>Custom Validators now support <code>message</code> being an function</li><li>Automatically convert <code>mongoose.Types.Buffer</code> to <code>mongoose.Schema.Types.Buffer</code></li><li>Fix Types when extending default class <code>Base</code> with other than <code>ObjectId</code> [<a href="https://github.com/typegoose/typegoose/issues/316" target="_blank" rel="noopener noreferrer">typegoose#316</a>]</li><li>[IC] <code>mapOptions</code> now always errors if the given type dosnt extend <code>mongoose.SchemaTypeOptions</code></li><li>[IC] Moved function <code>_buildPropMetadata</code> to its own file (<code>processProp</code>) and renamed it to <code>processProp</code> [<a href="https://github.com/typegoose/typegoose/issues/286" target="_blank" rel="noopener noreferrer">typegoose#286</a>]</li><li>[IC] Moved pre-processing in function <code>prop</code> into <code>processProp</code> [<a href="https://github.com/typegoose/typegoose/issues/286" target="_blank" rel="noopener noreferrer">typegoose#286</a>]</li><li>[IC] Removed error <code>NoMetadataError</code></li><li>[IC] Removed check that <code>Type</code> needs to be defined in <code>prop</code> / <code>processProp</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="720"></a>7.2.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#720" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.9.17</li><li><code>@types/mongoose</code> to 5.7.21</li><li><code>typescript</code> to 3.9.3</li></ul></li><li>Remove type <code>RefSchemaType</code></li><li>Add <code>mongoose.Schema.Types.*</code> that are suitable for ref to <code>RefType</code></li><li>Runtime-Deprecate <code>@mapProp</code>(<code>TDEP0002</code>) &amp; <code>@arrayProp</code>(<code>TDEP0001</code>)</li><li>Runtime-Deprecate <code>type</code>-alias options, <code>items</code> &amp; <code>of</code> &amp; <code>refType</code>(<code>TDEP0003</code>)</li><li>Handle <code>mongoose.Types.Array&lt;Ref&lt;&gt;&gt;</code> for Typeguards (<code>isDocumentArray</code> &amp; <code>isRefTypeArray</code>) [<a href="https://github.com/typegoose/typegoose/issues/278" target="_blank" rel="noopener noreferrer">typegoose#278</a>]</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="713"></a>7.1.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#713" title="Direct link to heading">#</a></h2><ul><li>Added an Error if option <code>ref</code> is set but is <code>undefined/null</code></li><li>Add <code>mongoose.Types.DocumentArray</code> and <code>mongoose.Schema.Types.DocumentArray</code> to <code>@prop</code> array-detection</li><li>Change <code>if (!kind)</code> to <code>if (isNullOrUndefined(kind))</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="712"></a>7.1.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#712" title="Direct link to heading">#</a></h2><ul><li><code>@prop</code> options types now work again</li><li><code>BasePropOptions.type</code> is now <code>unkown</code> instead of <code>any</code></li><li>All aliases of <code>BasePropOptions.type</code> now inherit the types from there</li><li>Fix bug where autopopulate (or any other plugin) wouldnt pick up on virtuals [<a href="https://github.com/typegoose/typegoose/issues/274" target="_blank" rel="noopener noreferrer">typegoose#274</a>]</li><li>[IC] <code>refType</code> is now moved to <code>prop</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="711"></a>7.1.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#711" title="Direct link to heading">#</a></h2><ul><li>Remove empty interface <code>PropOptions</code></li><li>Remove type <code>PropOptionsWithValidate</code></li><li>Rename type <code>PropOptionsWithNumberValidate</code> to <code>PropOptionsForNumber</code></li><li>Rename type <code>PropOptionsWithStringValidate</code> to <code>PropOptionsForString</code></li><li>Add options <code>options</code> &amp; <code>match</code> for <code>VirtualOptions</code></li><li>Add option <code>enum</code> for <code>ValidateNumberOptions</code></li><li><code>arrayProp</code> &amp; <code>mapProp</code> are now just an alias for <code>prop</code></li><li>Set TSDoc option <code>@deprecated</code> for <code>arrayProp</code> and <code>mapProp</code></li><li>Detect <code>mongoose.Types.Array</code> &amp; <code>mongoose.Schema.Types.Array</code> as <code>Array</code> in <code>@prop</code></li><li>Detect <code>mongoose.Types.Map</code> &amp; <code>mongoose.Schema.Types.Map</code> as <code>Map</code> in <code>@prop</code></li><li>Add Overloads to <code>@prop</code></li><li>PascalCased decorators now have the TSDoc of the original function</li><li>Default class <code>Base</code>&#x27;s <code>__v</code> &amp; <code>__t</code> are now optional (with <code>?</code>)</li><li>Fix mentioned bug from <a href="https://github.com/typegoose/typegoose/issues/181" target="_blank" rel="noopener noreferrer">typegoose#181</a>, to allow <code>mongoose.Schema.Types.String</code> &amp; <code>mongoose.Schema.Types.Number</code> as valid enum types</li><li>Options <code>of</code> &amp; <code>items</code> are now mapped to <code>type</code> and get called when <code>buildSchema</code> is called</li><li>[IC] DeDuplicate code in <code>prop.ts</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="710"></a>7.1.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#710" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.9.14</li><li><code>@types/mongoose</code> to 5.7.19</li><li><code>tslib</code> to 2.0.0</li><li><code>typescript</code> to 3.9.2</li></ul></li><li>Fix duplicate hooks / virtuals / queryMethods / plugins / indices via inheritance [<a href="https://github.com/typegoose/typegoose/issues/218" target="_blank" rel="noopener noreferrer">typegoose#218</a>]</li><li>improve TSDoc of some functions</li><li>Fix <code>queryMethod</code> reflection</li><li>Set proper function type for <code>queryMethod</code></li><li>Added the ability to define option <code>ref</code> with an arrow-function <a href="/typegoose/docs/guides/advanced/reference-other-classes#referencing-other-classes">(<code>ref: () =&gt; type</code>)</a></li><li>All Decorators are now exported PascalCased &amp; camelCased</li><li>Actually export the <code>@queryMethod</code> decorator</li><li>The <code>@queryMethod</code> decorator now has correct types [<a href="https://github.com/typegoose/typegoose/issues/247" target="_blank" rel="noopener noreferrer">typegoose#247</a>]</li><li>The functions <code>addModelToTypegoose</code>, <code>getModelForClass</code>, <code>buildSchema</code>, <code>deleteModelWithClass</code>, <code>getDiscriminatorModelForClass</code> now have the <code>T</code> generic removed (it was unnecessary)</li><li>The functions <code>addModelToTypegoose</code>, <code>getModelForClass</code>, <code>getDiscriminatorModelForClass</code> now have an new optional generic <code>QueryHelpers</code></li><li>The Type <code>ReturnModelType</code> now has the <code>T</code> generic removed (it was unnecessary)</li><li>The Type <code>ReturnModelType</code> now has an second optional generic <code>QueryHelpers</code></li><li>Fix bug where <code>ref: Class</code> didnt execute <code>getName</code> when Virtual-Populate was used</li><li>Allow use of <code>@prop</code> for arrays &amp; maps (In preparation for 8.0), it is now auto-detected based on <code>design:type</code></li><li>The Decorator <code>@plugin</code> now automatically infers the options if the plugin &amp; function have typings and use options</li><li>[IC] add some tslint rules &amp; apply them</li><li>[IC] enable &quot;strictNullChecks&quot; &amp; fix accordingly</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="700"></a>7.0.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#700" title="Direct link to heading">#</a></h2><p><a href="/typegoose/docs/guides/migrate-7">To Migrate, please look at the migration guide</a></p><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.9.10</li><li><code>@types/mongoose</code> to 5.7.12</li></ul></li><li>Minimal NodeJS version is now 10.15</li><li>Minimal Typescript version is now 3.8.3</li><li>Typegoose class got completly removed</li><li>All Deprecated <code>arrayProp</code> options got remove<ul><li><code>itemsRef</code> replaced with plain <code>ref</code></li><li><code>itemsRefPath</code> replaced with plain <code>refPath</code></li><li><code>itemsRefType</code> replaced with plain <code>refType</code></li></ul></li><li>All enums got moved from <code>src/types</code> to <code>src/internal/constants</code></li><li>All things from <code>src/types</code> now get exported as <code>type</code></li><li>All Errors now get exported as <code>errors</code></li><li>All non-essentail types get exported as <code>types</code></li><li><code>utils</code>&#x27;s <code>getName</code> function now gets exported</li><li>Add PropOption <code>addNullToEnum</code></li><li>Remove Deprecated value <code>overwrite</code> for <code>VirtualOptions</code></li><li>Remove instance properties from Model type (remove <code>&amp; T</code> from <code>ModelType</code>)</li><li>Add class decorator <code>queryMethod</code></li><li>[IC] rename file <code>optionsProp</code> to <code>modelOptions</code></li><li>[IC] Replace mocha &amp; chai with jest</li><li>[IC] Completly remove <code>TG_USE_NEW_ENUM</code> from documentation &amp; code</li><li>[IC] Replace almost all if-throw with the internal <code>assertion</code> function</li><li>[IC] Move VirtualPopulate cache to Reflection</li><li>[IC] Move Plugins cache to Reflection</li><li>[IC] Move Hooks cache to Reflection</li><li>[IC] All remaining test&#x27;s models now get exported with an name (not being exported as <code>model</code> anymore)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="650"></a>6.5.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#650" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>semver</code> to 7.3.2</li><li><code>tslib</code> to 1.11.1</li><li><code>loglevel</code> to 1.6.8</li></ul></li><li>Remove <code>useNewEnum</code> type from <code>types</code></li><li>Add warning when value is an primitive and will result in an <code>Mixed</code> (fixes <a href="https://github.com/typegoose/typegoose/issues/152" target="_blank" rel="noopener noreferrer">typegoose#152</a>)</li><li>Add option <code>language_override</code> to <code>IndexOptions</code></li><li>Fix spelling errors in documentation</li><li>[IC] Replace deprecated arrayProp options with proper ones in all tests &amp; test-models</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="640"></a>6.4.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#640" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.9.2</li><li><code>@types/mongoose</code> to 5.7.1</li><li><code>semver</code> to 7.1.3</li><li><code>loglevel</code> to 1.6.7</li><li><code>tslib</code> to 1.11.0</li></ul></li><li>Completly remove <code>__uniqueID</code>, because it was not used internally anymore</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="632"></a>6.3.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#632" title="Direct link to heading">#</a></h2><ul><li>Indexes: clone array instead of re-using it (fixes <a href="https://github.com/typegoose/typegoose/issues/194" target="_blank" rel="noopener noreferrer">typegoose#194</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="631"></a>6.3.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#631" title="Direct link to heading">#</a></h2><ul><li>Hopefully fix the Strictmode error of the new Ref-Type</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="630"></a>6.3.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#630" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li><code>mongoose</code> to 5.8.11</li><li><code>@types/mongoose</code> to 5.7.0</li><li><code>semver</code> to 7.1.2</li></ul></li><li>Add <code>@types/mongoose</code> to <code>peerDependencies</code></li><li>Add generic type to <code>@plugin</code> to set the type for the options</li><li>Use a modified <code>Ref</code>-Type to automatically get the type (if the Ref&#x27;d type has <code>string</code> as <code>_id</code>, it automaticly sets the <code>RefType</code> to <code>string</code>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="622"></a>6.2.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#622" title="Direct link to heading">#</a></h2><ul><li>Fix use of &quot;rawOptions.type&quot; after deletion (fixes <a href="https://github.com/typegoose/typegoose/issues/178" target="_blank" rel="noopener noreferrer">typegoose#178</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="621"></a>6.2.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#621" title="Direct link to heading">#</a></h2><ul><li>Fix functions <code>isString</code> and <code>isNumber</code> to check against their <code>mongoose.Schema.Types.*.name</code> equivalent (fixes <a href="https://github.com/typegoose/typegoose/issues/149" target="_blank" rel="noopener noreferrer">typegoose#149</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="620"></a>6.2.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#620" title="Direct link to heading">#</a></h2><p>This Update may break some code (mongoose upgrade, inline <code>_id</code> change, <code>enum</code> changes)</p><ul><li>Update Dependencies<ul><li>Upgrade mongoose from 5.7.7 to 5.8.3</li><li>Upgrade @types/mongoose from 5.5.30 to 5.5.35</li><li>[IC] Upgrade Typescript from 3.7.2 to 3.7.4</li><li>[IC] Upgrade NYC from 14.1.1 to 15.0.0</li></ul></li><li>The option <code>useNewEnum</code> (and <code>TG_USE_NEW_ENUM</code>) got removed, because it would interfer with the number-enums</li><li>Added the ability to use number-enums on number-type props</li><li>Changed behaviour of string-enums to only work on string-type props</li><li>Fix <code>PropOptions</code> type for <code>autopopulate</code></li><li>[IC] When the type is a <code>Schema</code>, it is now handled by <code>mapOptions</code> &amp; <code>mapArrayOptions</code></li><li>[IC] fix tests not exiting after completion</li><li>[IC] add tslint-plugin <code>tslint-consistent-codestyle</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="618"></a>6.1.8<a aria-hidden="true" tabindex="-1" class="hash-link" href="#618" title="Direct link to heading">#</a></h2><ul><li>backport for:<ul><li>fixes <a href="https://github.com/typegoose/typegoose/issues/160" target="_blank" rel="noopener noreferrer">typegoose#160</a></li><li>[IC] <code>mapArrayOptions</code> now uses <code>mapOptions</code></li><li>[IC] adding function <code>mapOptions</code></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="617"></a>6.1.7<a aria-hidden="true" tabindex="-1" class="hash-link" href="#617" title="Direct link to heading">#</a></h2><ul><li>add support for environment variables <a href="https://typegoose.github.io/typegoose/docs/api/environment-variables/" target="_blank" rel="noopener noreferrer">here the new documentation</a></li><li>[IC] <code>warnMixed</code> now uses the right <code>target</code></li><li>[IC] add function <code>utils.getRightTarget</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="616"></a>6.1.6<a aria-hidden="true" tabindex="-1" class="hash-link" href="#616" title="Direct link to heading">#</a></h2><ul><li>handle <code>_id: false/true</code>  better</li><li>add function <code>getClass</code></li><li>[IC] fix using &quot;name&quot;-getter in <code>getName</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="615"></a>6.1.5<a aria-hidden="true" tabindex="-1" class="hash-link" href="#615" title="Direct link to heading">#</a></h2><ul><li>Option merging is now properly done</li><li>[IC] fix giving wrong key to customMerger</li><li>[IC] remove the need to use &quot;cloneDeepWith&quot;</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="614"></a>6.1.4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#614" title="Direct link to heading">#</a></h2><ul><li>Apply Global Options without needing @modelOptions</li><li>[IC] add function &quot;utils.assignGlobalModelOptions&quot;</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="613"></a>6.1.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#613" title="Direct link to heading">#</a></h2><ul><li>fix bug when &quot;buildSchema&quot; didnt get called when overwriting the type in <code>@prop</code></li><li>[IC] add tests for Generic Discriminators</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="612"></a>6.1.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#612" title="Direct link to heading">#</a></h2><ul><li>Allow setting <code>_id: false</code> (and apply it) for <code>@mapProp</code></li><li>[IC] De-duplicate code for <code>_id</code> if subDocument</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="611"></a>6.1.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#611" title="Direct link to heading">#</a></h2><ul><li><code>deleteModel</code> now deletes the model from the connection it is on <a href="https://github.com/typegoose/typegoose/issues/119" target="_blank" rel="noopener noreferrer">typegoose#119</a></li><li>[IC] de-duplicate test code for connecting</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="610"></a>6.1.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#610" title="Direct link to heading">#</a></h2><ul><li>Update Dependencies<ul><li>Upgrade mongoose from 5.7.1 to 5.7.7</li><li>[IC] Upgrade Typescript from 3.6.x to 3.7.2</li></ul></li><li>Completly remove <code>@staticMethod</code> &amp; <code>@instanceMethod</code>, because they were completly obsolete</li><li>README now has no documentation anymore</li><li><code>@prop({ validate })</code> now accepts <code>{ validator, message }</code> as an array</li><li>Add function <code>deleteModel</code> &amp; <code>deleteModelWithClass</code></li><li>allow Prop Option &quot;type&quot; to overwrite the inferred type <a href="https://typegoose.github.io/typegoose/docs/api/decorators/prop/#type" target="_blank" rel="noopener noreferrer">look here for an example</a></li><li>integrate &quot;Array Validators &amp; Transform&quot; tests <a href="https://github.com/typegoose/typegoose/issues/29" target="_blank" rel="noopener noreferrer">typegoose#29</a></li><li>adding global options, with <code>setGlobalOptions</code></li><li>add modelOption <code>runSyncIndexes</code></li><li>add modelOption <code>allowMixed</code></li><li>add <code>text</code> to PropOptions</li><li>deprecate ArrayPropOptions&#x27;s <code>itemsRef</code>, <code>itemsRefPath</code> &amp; <code>itemsRefType</code></li><li><code>DocumentType</code> will now overwrite the type of <code>_id</code> if the class is extending <code>Base</code> (in TypeScript there is currently no other way)</li><li>add <code>tslib</code> as dependency to minimize generated code</li><li>fixing typo in (deprecated) <code>setModelForClass</code></li><li>Remake how Enums are handled, use <code>setGlobalOptions({ globalOptions: { useNewEnum: true } })</code> (to not break existing databases made with the old handling)</li><li>add function <code>getModelWithString</code></li><li>[IC] tsconfig: add option &quot;strictBindCallApply&quot;</li><li>[IC] tsconfig: add option &quot;strictFunctionTypes&quot;</li><li>[IC] combine <code>initAsObject</code> and <code>initAsArray</code> into <code>initProperty</code></li><li>[IC] Use internal &quot;isNullOrUndefined&quot;, needed because all &quot;util.is*&quot; functions got deprecated in node 4.0.0</li><li>[IC] Replace all &quot;isArray&quot; with &quot;Array.isArray&quot;, needed because all &quot;util.is*&quot; functions got deprecated in node 4.0.0</li><li>[IC] adding many sanity <code>isNullOrUndefined</code> checks</li><li>[IC] Re-done how the handling of <code>Mixed</code> is done</li><li>[IC] Re-done how <code>IModelOptions</code> are merged (thanks to lodash <code>cloneDeepWith</code> &amp; <code>mergeWith</code>)</li><li>[IC] de-duplicate &quot;ref&quot; &amp; &quot;refPath&quot; code</li><li>[IC] added test for &quot;Custom Types&quot;</li><li>[IC] typegoose now makes use of &quot;importHelpers&quot;(tsconfig) to save some space</li><li>[IC] Refactor how &quot;isPrimitive&quot; works, some types like <code>Buffer</code> &amp; <code>Decimal</code> now work</li><li>[IC] Added more debug logs to <code>prop.ts</code></li><li>[IC] Move Decorator Cache to the class itself</li><li>[IC] &quot;baseProp&quot; now uses one single arguments, whith all the options</li><li>[IC] &quot;createUniqueID&quot; now returns a boolean instead of the &quot;initname&quot;</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="604"></a>6.0.4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#604" title="Direct link to heading">#</a></h2><p>This Release didnt change anything on the code, it was mostly tests &amp; github-page</p><ul><li>Update Dependencies<ul><li>Upgrade mongoose from 5.7.1 to 5.7.4</li></ul></li><li>Added soft warning when using &quot;ref&quot; in an &quot;arrayProp&quot;</li><li>Added soft warning when using &quot;refPath&quot; in an &quot;arrayProp&quot;</li><li>Add missing &quot;)&quot; to a deprecation message</li><li>[IC] Fixed some Test&#x27;s types</li><li>[IC] internal variable renames to better reflect what they are for</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="603"></a>6.0.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#603" title="Direct link to heading">#</a></h2><ul><li>when using <code>@plugin</code>, options are now checked if they are an object, when not: make them an object</li><li>Added many debug logs for <code>_buildSchema</code></li><li>Added Prop Option <code>autopopulate</code>, only has an effect if <code>mongoose-autopopulate</code> is used</li><li>Added default class <code>FindOrCreate</code> which has the types for <code>mongoose-findorcreate</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="602"></a>6.0.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#602" title="Direct link to heading">#</a></h2><ul><li>actually allow overwriting &quot;_id&quot; of &quot;Base&quot;</li><li>[IC] add npm version script</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="601"></a>6.0.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#601" title="Direct link to heading">#</a></h2><ul><li>Add TSDoc for <code>refType</code> on PropOptions</li><li><code>refPath</code> now uses the right type (new uses <code>refType</code> instead of <code>itemsType</code>)</li><li>Fix decorator options (rawOptions) mutating thanks to <a href="https://github.com/typegoose/typegoose/issues/60" target="_blank" rel="noopener noreferrer">typegoose#60</a></li><li>Pre hook&#x27;s function&#x27;s <code>next</code> is now not marked as &quot;optional&quot; anymore, which caused <code>next()</code> to be <code>EmptyVoidFn | undefined</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="600"></a>6.0.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#600" title="Direct link to heading">#</a></h2><p><a href="/typegoose/docs/guides/migrate-6">To Migrate, please look at the migration guide</a></p><ul><li>Project got moved to the new repo (typegoose/typegoose) and new package <code>@typegoose/typegoose</code></li><li>rename <code>InstanceType&lt;T&gt;</code> to <code>DocumentType&lt;T&gt;</code> [<a href="https://github.com/szokodiakos/typegoose/issues/366" target="_blank" rel="noopener noreferrer">szokodiakos#366</a>]</li><li>adding a migration guide from ~5.9 to 6.0.0</li><li>adding missing &quot;get&quot; and &quot;set&quot; property options [<a href="https://github.com/szokodiakos/typegoose/issues/260" target="_blank" rel="noopener noreferrer">szokodiakos#260</a>]</li><li>adding <code>@modelOptions</code> and <code>getModelForClass</code> and <code>setModelForClass</code> will now override it</li><li><code>setModelForClass</code> is now deprecated [<a href="https://github.com/typegoose/typegoose/issues/6" target="_blank" rel="noopener noreferrer">typegoose#6</a>, <a href="https://github.com/szokodiakos/typegoose/issues/186" target="_blank" rel="noopener noreferrer">szokodiakos#186</a>]</li><li>setting the Typegoose Class to abstract</li><li>deprecating the Typegoose Class because of making the functions outsourced [<a href="https://github.com/szokodiakos/typegoose/issues/356" target="_blank" rel="noopener noreferrer">szokodiakos#356</a>]</li><li>hook methods can now be arrays of methods [<a href="https://github.com/szokodiakos/typegoose/issues/313" target="_blank" rel="noopener noreferrer">szokodiakos#313</a>]</li><li>completely removed parallel from pre hook</li><li>refactored the types of hooks</li><li>adding support for any value in prop for plugins [<a href="https://github.com/szokodiakos/typegoose/issues/374" target="_blank" rel="noopener noreferrer">szokodiakos#374</a>]</li><li><code>schema.loadClass</code> is now used instead of <code>@instanceMethod</code> and <code>@staticMethod</code> [<a href="https://github.com/szokodiakos/typegoose/issues/48" target="_blank" rel="noopener noreferrer">szokodiakos#48</a>, <a href="https://github.com/szokodiakos/typegoose/issues/346" target="_blank" rel="noopener noreferrer">szokodiakos#346</a>, <a href="https://github.com/szokodiakos/typegoose/issues/182" target="_blank" rel="noopener noreferrer">szokodiakos#182</a>]</li><li>method decorators are now deprecated</li><li>schema generation got refactored (/reconstructed) multiple times</li><li>adding <code>count</code> to VirtualOptions</li><li>Updated Dependencies (^<a href="mailto:mongoose@5.7.1" target="_blank" rel="noopener noreferrer">mongoose@5.7.1</a>)</li><li>adding discriminator support [<a href="https://github.com/typegoose/typegoose/issues/11" target="_blank" rel="noopener noreferrer">typegoose#11</a>]</li><li>adding default class for (schemaOptions) timestamps</li><li>adding more docs to README &amp; as tsdoc</li><li>some changes that are probably forgot</li><li>szokodiakos#363 got reverted in favor of <a href="mailto:mongoose@5.6.9" target="_blank" rel="noopener noreferrer">mongoose@5.6.9</a></li><li>fixes Custom Options not passed through to mongoose &amp; plugins when using ref [<a href="https://github.com/szokodiakos/typegoose/issues/379" target="_blank" rel="noopener noreferrer">szokodiakos#379</a>]</li><li>Adding &quot;immutable&quot; prop option [<a href="https://github.com/szokodiakos/typegoose/issues/320" target="_blank" rel="noopener noreferrer">szokodiakos#320</a>]</li><li>adding Types to Ref (to allow not just ObjectID) [<a href="https://github.com/szokodiakos/typegoose/issues/369" target="_blank" rel="noopener noreferrer">szokodiakos#369</a>]</li><li>szokodiakos#54 seems to work now in 6.0.0 (added test in 6.0.0-21)</li><li>because of the changes in 6.0.0 #235 got fixed</li><li>Adding &quot;InvalidTypeError&quot; for the case that &quot;undefined&quot; or &quot;null&quot; is used as a type (or something other happenes)</li><li>Change Error text of &quot;InvalidPropError&quot;</li><li>adding some &quot;soft-errors&quot; and traces with &quot;loglevel&quot;</li><li>exposing settings for &quot;loglevel&quot;</li><li>fixes Decorator Execution Order [<a href="https://github.com/typegoose/typegoose/issues/23" target="_blank" rel="noopener noreferrer">typegoose#23</a>, <a href="https://github.com/typegoose/typegoose/issues/24" target="_blank" rel="noopener noreferrer">typegoose#24</a>]</li><li>add support for custom discriminator properties</li><li>add error if using a self-containing class</li><li>add support for using multiple classes with the same name (<code>automaticName</code>, <code>customName</code>, <code>collection</code>)</li><li>[IC] &quot;NoParamConstructor&quot; got renamed into &quot;AnyParamConstructor&quot; it now accepts any arguments</li><li>[IC] Remake data.ts to use Maps [<a href="https://github.com/typegoose/typegoose/issues/3" target="_blank" rel="noopener noreferrer">typegoose#3</a>]</li><li>[IC] adding many tests and bumping coverage</li><li>[IC] moving many Types to types.ts</li><li>[IC] removing unneeded dependencies</li><li>[IC] changed how travis runs jobs multiple times</li><li>[IC] many tslint rule changes</li><li>[IC] getting the name from &quot;class.name&quot; got outsourced into &quot;utils.getName&quot; (for future use)</li><li>[IC] use switches instead of many if&#x27;s</li><li>[IC] adding some tests</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="592"></a>5.9.2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#592" title="Direct link to heading">#</a></h2><ul><li><p>Change README examples &amp; badges to the new repo</p></li><li><p>use new travis.yml (from version 6.0.0)</p></li><li><p>use new style of package.json (from version 6.0.0)</p></li><li><p>Tags got deleted and added, please remove all local tags and re-download them</p></li></ul><p>This Release did not change anything in the code, it is just there to update the NPM front</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="591"></a>5.9.1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#591" title="Direct link to heading">#</a></h2><ul><li>fix accidentally added typeguards</li><li>add a note that typegoose uses mongoose&#x27;s strict by default</li><li>add note that typegoose doesn&#x27;t work with classes with the same name (at least in 5.x, working on it in 6.x)</li><li>implemented a hack for ObjectId / ObjectID (mongoose some version fixed this)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="590"></a>5.9.0<a aria-hidden="true" tabindex="-1" class="hash-link" href="#590" title="Direct link to heading">#</a></h2><ul><li>This should not be a breaking release</li><li>Hooks now support Regular Expression for names, like mongoose</li><li>Tests are splitted into their own files</li><li>Fixing <code>itemsRefPath</code> &amp; adding tests</li><li><code>itemsRef</code> now supports to be used with a string as model</li><li><code>@prop({ alias })</code> is now supported</li><li>Index weights are now supported</li><li><code>isDocument</code> &amp; <code>isDocumentArray</code> typeguards are now implemented</li><li>Updated Dependencies
Note worthy are:<ul><li>mongoose 5.6 is now required instead of 5.5</li><li>this project should be used with TypeScript 3.5+</li></ul></li><li><code>@mapProp()</code> is now implemented</li><li>Fix for <code>@prop({ select })</code></li><li>A public version of <code>buildSchema</code> is now available</li><li>Added more Documentation to README</li><li>Added TSDOC to many functions and properties</li><li>build target is now ES6 instead of ES5</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/typegoose/typegoose/edit/master/docs/../docs/changelog.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#734" class="table-of-contents__link">7.3.4</a></li><li><a href="#733" class="table-of-contents__link">7.3.3</a></li><li><a href="#732" class="table-of-contents__link">7.3.2</a></li><li><a href="#731" class="table-of-contents__link">7.3.1</a></li><li><a href="#730" class="table-of-contents__link">7.3.0</a></li><li><a href="#720" class="table-of-contents__link">7.2.0</a></li><li><a href="#713" class="table-of-contents__link">7.1.3</a></li><li><a href="#712" class="table-of-contents__link">7.1.2</a></li><li><a href="#711" class="table-of-contents__link">7.1.1</a></li><li><a href="#710" class="table-of-contents__link">7.1.0</a></li><li><a href="#700" class="table-of-contents__link">7.0.0</a></li><li><a href="#650" class="table-of-contents__link">6.5.0</a></li><li><a href="#640" class="table-of-contents__link">6.4.0</a></li><li><a href="#632" class="table-of-contents__link">6.3.2</a></li><li><a href="#631" class="table-of-contents__link">6.3.1</a></li><li><a href="#630" class="table-of-contents__link">6.3.0</a></li><li><a href="#622" class="table-of-contents__link">6.2.2</a></li><li><a href="#621" class="table-of-contents__link">6.2.1</a></li><li><a href="#620" class="table-of-contents__link">6.2.0</a></li><li><a href="#618" class="table-of-contents__link">6.1.8</a></li><li><a href="#617" class="table-of-contents__link">6.1.7</a></li><li><a href="#616" class="table-of-contents__link">6.1.6</a></li><li><a href="#615" class="table-of-contents__link">6.1.5</a></li><li><a href="#614" class="table-of-contents__link">6.1.4</a></li><li><a href="#613" class="table-of-contents__link">6.1.3</a></li><li><a href="#612" class="table-of-contents__link">6.1.2</a></li><li><a href="#611" class="table-of-contents__link">6.1.1</a></li><li><a href="#610" class="table-of-contents__link">6.1.0</a></li><li><a href="#604" class="table-of-contents__link">6.0.4</a></li><li><a href="#603" class="table-of-contents__link">6.0.3</a></li><li><a href="#602" class="table-of-contents__link">6.0.2</a></li><li><a href="#601" class="table-of-contents__link">6.0.1</a></li><li><a href="#600" class="table-of-contents__link">6.0.0</a></li><li><a href="#592" class="table-of-contents__link">5.9.2</a></li><li><a href="#591" class="table-of-contents__link">5.9.1</a></li><li><a href="#590" class="table-of-contents__link">5.9.0</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/typegoose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discord.gg/BpGjTTD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/typegoose/typegoose" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/typegoose/styles.03056a96.js"></script>
<script src="/typegoose/runtime~main.0e63b987.js"></script>
<script src="/typegoose/main.66c92996.js"></script>
<script src="/typegoose/1.488d97f0.js"></script>
<script src="/typegoose/2.fbc8eeb7.js"></script>
<script src="/typegoose/58.22b49cf1.js"></script>
<script src="/typegoose/61.cf213224.js"></script>
<script src="/typegoose/935f2afb.6c083fd5.js"></script>
<script src="/typegoose/17896441.a4f32ebf.js"></script>
<script src="/typegoose/c2ed7101.70da9f35.js"></script>
</body>
</html>